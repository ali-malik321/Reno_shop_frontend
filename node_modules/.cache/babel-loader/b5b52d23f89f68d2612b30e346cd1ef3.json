{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport userAPI from '../../api/userApi';\nexport const getAllUser = createAsyncThunk('user/getAllUser', async (_, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    return await userAPI.getAllUser();\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const getUser = createAsyncThunk('user/getUser', async (id, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    const result = await userAPI.getUser(id);\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const addUser = createAsyncThunk('user/addUser', async (data, _ref3) => {\n  let {\n    rejectWithValue,\n    dispatch\n  } = _ref3;\n\n  try {\n    const result = await userAPI.addUser(data);\n    dispatch(getAllUser());\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const updateUser = createAsyncThunk('user/updateUser', async (data, _ref4) => {\n  let {\n    rejectWithValue,\n    dispatch\n  } = _ref4;\n\n  try {\n    const result = await userAPI.updateUser(data);\n    dispatch(getUser(data._id));\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const deleteUser = createAsyncThunk('user/deleteUser', async (id, _ref5) => {\n  let {\n    rejectWithValue,\n    dispatch\n  } = _ref5;\n\n  try {\n    const result = await userAPI.deleteUser(id);\n    dispatch(getAllUser());\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nconst initialState = {\n  users: [],\n  usersLoading: false,\n  user: {},\n  userLoading: false\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getAllUser.pending]: state => {\n      state.usersLoading = true;\n    },\n    [getAllUser.fulfilled]: (state, action) => {\n      state.usersLoading = false;\n      state.users = action.payload.users;\n    },\n    // [getUser.pending]: (state) => {\n    // \tstate.usersLoading = true\n    // },\n    [getUser.fulfilled]: (state, action) => {\n      console.log(action.payload);\n      state.user = action.payload.user;\n    },\n    [updateUser.fulfilled]: (state, action) => {\n      console.log(action.payload);\n      state.user = action.payload.user;\n    }\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"sources":["/home/ali/Reno_shop_frontend/src/redux/slices/userSlice.js"],"names":["createAsyncThunk","createSlice","userAPI","getAllUser","_","rejectWithValue","error","response","getUser","id","result","console","log","addUser","data","dispatch","updateUser","_id","deleteUser","initialState","users","usersLoading","user","userLoading","userSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport userAPI from '../../api/userApi'\n\nexport const getAllUser = createAsyncThunk(\n\t'user/getAllUser',\n\tasync (_, { rejectWithValue }) => {\n\t\ttry {\n\t\t\treturn await userAPI.getAllUser()\n\t\t} catch (error) {\n\t\t\treturn rejectWithValue(error.response)\n\t\t}\n\t}\n)\n\nexport const getUser = createAsyncThunk(\n\t'user/getUser',\n\tasync (id, { rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst result = await userAPI.getUser(id)\n\t\t\tconsole.log(result)\n\t\t\treturn result\n\t\t} catch (error) {\n\t\t\treturn rejectWithValue(error.response)\n\t\t}\n\t}\n)\n\nexport const addUser = createAsyncThunk(\n\t'user/addUser',\n\tasync (data, { rejectWithValue, dispatch }) => {\n\t\ttry {\n\t\t\tconst result = await userAPI.addUser(data)\n\n\t\t\tdispatch(getAllUser())\n\n\t\t\treturn result\n\t\t} catch (error) {\n\t\t\treturn rejectWithValue(error.response)\n\t\t}\n\t}\n)\n\nexport const updateUser = createAsyncThunk(\n\t'user/updateUser',\n\tasync (data, { rejectWithValue, dispatch }) => {\n\t\ttry {\n\t\t\tconst result = await userAPI.updateUser(data)\n\n\t\t\tdispatch(getUser(data._id))\n\n\t\t\treturn result\n\t\t} catch (error) {\n\t\t\treturn rejectWithValue(error.response)\n\t\t}\n\t}\n)\n\nexport const deleteUser = createAsyncThunk(\n\t'user/deleteUser',\n\tasync (id, { rejectWithValue, dispatch }) => {\n\t\ttry {\n\t\t\tconst result = await userAPI.deleteUser(id)\n\n\t\t\tdispatch(getAllUser())\n\n\t\t\treturn result\n\t\t} catch (error) {\n\t\t\treturn rejectWithValue(error.response)\n\t\t}\n\t}\n)\n\nconst initialState = {\n\tusers: [],\n\tusersLoading: false,\n\tuser: {},\n\tuserLoading: false,\n}\n\nconst userSlice = createSlice({\n\tname: 'user',\n\tinitialState,\n\treducers: {},\n\textraReducers: {\n\t\t[getAllUser.pending]: (state) => {\n\t\t\tstate.usersLoading = true\n\t\t},\n\t\t[getAllUser.fulfilled]: (state, action) => {\n\t\t\tstate.usersLoading = false\n\t\t\tstate.users = action.payload.users\n\t\t},\n\t\t// [getUser.pending]: (state) => {\n\t\t// \tstate.usersLoading = true\n\t\t// },\n\t\t[getUser.fulfilled]: (state, action) => {\n\t\t\tconsole.log(action.payload)\n\t\t\tstate.user = action.payload.user\n\t\t},\n\n\t\t[updateUser.fulfilled]: (state, action) => {\n\t\t\tconsole.log(action.payload)\n\t\t\tstate.user = action.payload.user\n\t\t},\n\t},\n})\n\nexport default userSlice.reducer\n"]},"metadata":{},"sourceType":"module"}