{"ast":null,"code":"var _jsxFileName = \"/home/ali/Reno_shop_frontend/src/pages/admin/Product/Product.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, IconButton, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TextField, Typography } from '@material-ui/core';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { BiPencil, BiSearchAlt2, BiX } from 'react-icons/bi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport AdminLayout from '../../../component/admin/AdminLayout/AdminLayout';\nimport { deleteProduct, getAllProduct } from '../../../redux/slices/productSlice';\nimport { useStyles } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Product = () => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const products = useSelector(state => state.product.products);\n  useEffect(() => {\n    const fetchProducts = () => {\n      const action = getAllProduct();\n      dispatch(action);\n    };\n\n    fetchProducts();\n  }, []);\n\n  const handleEditProduct = product => {\n    history.push('/admin/product/new', {\n      state: product\n    });\n  };\n\n  const handleDeleteProduct = id => {\n    const action = deleteProduct(id);\n    dispatch(action).then(unwrapResult).then(() => {\n      toast('Delete user successfully!', {\n        position: 'bottom-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        type: 'success'\n      });\n    });\n  }; // Search\n\n\n  const [filteredProducts, setFilteredProducts] = useState(products);\n  const searchRef = useRef('');\n\n  const handleChangeSearch = e => {\n    const value = e.target.value;\n    console.log(value);\n\n    if (searchRef.current) {\n      clearTimeout(searchRef.current);\n    }\n\n    searchRef.current = setTimeout(() => {\n      if (value === '') setFilteredProducts(products);\n      const filtered = products.filter(size => {\n        return size.name.toLowerCase().includes(value.toLowerCase());\n      });\n      setFilteredProducts(filtered);\n    }, 400);\n  }; // Pagination\n\n\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Reno - Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Helmet application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(AdminLayout, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        className: classes.home,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: classes.searchBar,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"Search for fullname\",\n            variant: \"outlined\",\n            className: classes.searchField,\n            ref: searchRef,\n            onChange: handleChangeSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            className: classes.searchBtn,\n            children: /*#__PURE__*/_jsxDEV(BiSearchAlt2, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: \"/admin/product/new\",\n            className: classes.add,\n            children: \"Add Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this), filteredProducts.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            component: Paper,\n            elevation: \"0\",\n            style: {\n              marginBottom: 25\n            },\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: classes.table,\n              stickyHeader: true,\n              \"aria-label\": \"sticky table\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"In stock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    className: classes.tableHead,\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: filteredProducts.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(product => {\n                  var _product$category;\n\n                  return /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      component: \"th\",\n                      scope: \"row\",\n                      className: classes.productDesc,\n                      align: \"center\",\n                      children: product === null || product === void 0 ? void 0 : product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      className: classes.productDesc,\n                      children: product === null || product === void 0 ? void 0 : product.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: product === null || product === void 0 ? void 0 : (_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: [\"$\", product === null || product === void 0 ? void 0 : product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: product === null || product === void 0 ? void 0 : product.inStock.toString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(BiPencil, {\n                        style: {\n                          cursor: 'pointer',\n                          fontSize: 20,\n                          marginRight: 20\n                        },\n                        onClick: () => {\n                          handleEditProduct(product);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 16\n                      }, this), /*#__PURE__*/_jsxDEV(BiX, {\n                        style: {\n                          cursor: 'pointer',\n                          fontSize: 20\n                        },\n                        onClick: () => {\n                          handleDeleteProduct(product === null || product === void 0 ? void 0 : product._id);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 16\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 15\n                    }, this)]\n                  }, product === null || product === void 0 ? void 0 : product._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 14\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            component: \"div\",\n            count: products.length,\n            rowsPerPageOptions: [10],\n            page: page,\n            onPageChange: handleChangePage,\n            rowsPerPage: rowsPerPage,\n            onRowsPerPageChange: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.emptyContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn-icons-png.flaticon.com/512/4076/4076432.png\",\n            alt: \"\",\n            className: classes.emptyImg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"p\",\n            className: classes.emptyTitle,\n            children: \"It's empty in here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"bottom-center\",\n        autoClose: 3000,\n        hideProgressBar: false,\n        newestOnTop: false,\n        closeOnClick: true,\n        rtl: false,\n        pauseOnFocusLoss: true,\n        draggable: true,\n        pauseOnHover: true,\n        theme: \"dark\",\n        type: \"default\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Product, \"WV23VgAgmKoo/aBvGH5YqXIMp9s=\", false, function () {\n  return [useStyles, useDispatch, useHistory, useSelector];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/ali/Reno_shop_frontend/src/pages/admin/Product/Product.js"],"names":["Box","Button","IconButton","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TextField","Typography","TablePagination","unwrapResult","React","useEffect","useRef","useState","Helmet","BiPencil","BiSearchAlt2","BiX","useDispatch","useSelector","Link","useHistory","toast","ToastContainer","AdminLayout","deleteProduct","getAllProduct","useStyles","Product","classes","dispatch","history","products","state","product","fetchProducts","action","handleEditProduct","push","handleDeleteProduct","id","then","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","filteredProducts","setFilteredProducts","searchRef","handleChangeSearch","e","value","target","console","log","current","clearTimeout","setTimeout","filtered","filter","size","name","toLowerCase","includes","page","setPage","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","home","searchBar","searchField","searchBtn","add","length","marginBottom","table","tableHead","slice","map","productDesc","desc","category","price","inStock","toString","cursor","fontSize","marginRight","_id","emptyContainer","emptyImg","emptyTitle"],"mappings":"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","sourcesContent":["import {\n\tBox,\n\tButton,\n\tIconButton,\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n\tTextField,\n\tTypography,\n} from '@material-ui/core'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport { unwrapResult } from '@reduxjs/toolkit'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Helmet } from 'react-helmet-async'\nimport { BiPencil, BiSearchAlt2, BiX } from 'react-icons/bi'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport { toast, ToastContainer } from 'react-toastify'\nimport AdminLayout from '../../../component/admin/AdminLayout/AdminLayout'\nimport {\n\tdeleteProduct,\n\tgetAllProduct,\n} from '../../../redux/slices/productSlice'\nimport { useStyles } from './styles'\n\nconst Product = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\tconst products = useSelector((state) => state.product.products)\n\n\tuseEffect(() => {\n\t\tconst fetchProducts = () => {\n\t\t\tconst action = getAllProduct()\n\t\t\tdispatch(action)\n\t\t}\n\t\tfetchProducts()\n\t}, [])\n\n\tconst handleEditProduct = (product) => {\n\t\thistory.push('/admin/product/new', { state: product })\n\t}\n\n\tconst handleDeleteProduct = (id) => {\n\t\tconst action = deleteProduct(id)\n\t\tdispatch(action)\n\t\t\t.then(unwrapResult)\n\t\t\t.then(() => {\n\t\t\t\ttoast('Delete user successfully!', {\n\t\t\t\t\tposition: 'bottom-center',\n\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\thideProgressBar: false,\n\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tprogress: undefined,\n\t\t\t\t\ttype: 'success',\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\t// Search\n\tconst [filteredProducts, setFilteredProducts] = useState(products)\n\tconst searchRef = useRef('')\n\tconst handleChangeSearch = (e) => {\n\t\tconst value = e.target.value\n\t\tconsole.log(value)\n\t\tif (searchRef.current) {\n\t\t\tclearTimeout(searchRef.current)\n\t\t}\n\n\t\tsearchRef.current = setTimeout(() => {\n\t\t\tif (value === '') setFilteredProducts(products)\n\n\t\t\tconst filtered = products.filter((size) => {\n\t\t\t\treturn size.name.toLowerCase().includes(value.toLowerCase())\n\t\t\t})\n\t\t\tsetFilteredProducts(filtered)\n\t\t}, 400)\n\t}\n\n\t// Pagination\n\tconst [page, setPage] = useState(0)\n\tconst [rowsPerPage, setRowsPerPage] = useState(10)\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage)\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10))\n\t\tsetPage(0)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Helmet>\n\t\t\t\t<title>Reno - Admin</title>\n\t\t\t\t<meta name=\"description\" content=\"Helmet application\" />\n\t\t\t</Helmet>\n\t\t\t<AdminLayout>\n\t\t\t\t<Box className={classes.home}>\n\t\t\t\t\t<Box className={classes.searchBar}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tplaceholder=\"Search for fullname\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tclassName={classes.searchField}\n\t\t\t\t\t\t\tref={searchRef}\n\t\t\t\t\t\t\tonChange={handleChangeSearch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton className={classes.searchBtn}>\n\t\t\t\t\t\t\t<BiSearchAlt2 />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\tto=\"/admin/product/new\"\n\t\t\t\t\t\t\tclassName={classes.add}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Product\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{filteredProducts.length > 0 ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TableContainer\n\t\t\t\t\t\t\t\tcomponent={Paper}\n\t\t\t\t\t\t\t\televation=\"0\"\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: 25 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\t\t\t\taria-label=\"sticky table\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tCategory\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tIn stock\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t{filteredProducts\n\t\t\t\t\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t.map((product) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={product?._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.productDesc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product?.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.productDesc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product?.desc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product?.category?.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${product?.price}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product?.inStock.toString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BiPencil\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: 20,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleEditProduct(product)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BiX\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontSize: 20 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteProduct(product?._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t<TablePagination\n\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\tcount={products.length}\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10]}\n\t\t\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box className={classes.emptyContainer}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc=\"https://cdn-icons-png.flaticon.com/512/4076/4076432.png\"\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\tclassName={classes.emptyImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Typography component=\"p\" className={classes.emptyTitle}>\n\t\t\t\t\t\t\t\tIt's empty in here\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t\t<ToastContainer\n\t\t\t\t\tposition=\"bottom-center\"\n\t\t\t\t\tautoClose={3000}\n\t\t\t\t\thideProgressBar={false}\n\t\t\t\t\tnewestOnTop={false}\n\t\t\t\t\tcloseOnClick\n\t\t\t\t\trtl={false}\n\t\t\t\t\tpauseOnFocusLoss\n\t\t\t\t\tdraggable\n\t\t\t\t\tpauseOnHover\n\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\ttype=\"default\"\n\t\t\t\t/>\n\t\t\t</AdminLayout>\n\t\t</>\n\t)\n}\n\nexport default Product\n"]},"metadata":{},"sourceType":"module"}