{"ast":null,"code":"var _jsxFileName = \"/home/ali/Reno_shop_frontend/src/component/customer/Cart/Cart.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Hidden, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from '@material-ui/core';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { nanoid } from 'nanoid';\nimport React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { BiMinus, BiPlus, BiRightArrowAlt, BiX } from 'react-icons/bi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport StripeCheckout from 'react-stripe-checkout';\nimport bgCart from \"../../../assets/images/cart.svg\";\nimport { payment, updateUser } from '../../../redux/slices/authSlice';\nimport { addOrder } from '../../../redux/slices/orderSlice';\nimport CustomerLayout from '../CustomerLayout/CustomerLayout';\nimport { useStyles } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst KEY = process.env.REACT_APP_STRIPE_KEY;\n\nconst Cart = () => {\n  _s();\n\n  var _user$cart, _user$cart2;\n\n  const classes = useStyles();\n  const user = useSelector(state => state.auth.user);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handleIncreaseQuantity = product => {\n    const thisProductInCart = user.cart.find(productInCart => {\n      return productInCart.product.id === product._id;\n    });\n    const newProduct = { ...thisProductInCart,\n      quantity: thisProductInCart.quantity + 1\n    };\n    const filteredProducts = user.cart.filter(productInCart => {\n      return productInCart.product.id !== product._id || productInCart.product.id === product._id && productInCart.chooseSize !== product.chooseSize;\n    });\n    const action = updateUser({\n      _id: user._id,\n      cart: [...filteredProducts, newProduct]\n    });\n    dispatch(action);\n  };\n\n  const handleDecreaseQuantity = product => {\n    if (product.quantity - 1 === 0) {\n      const filteredProducts = user.cart.filter(productInCart => {\n        return productInCart.product.id !== product._id || productInCart.product.id === product._id && productInCart.chooseSize !== product.chooseSize;\n      });\n      const action = updateUser({\n        _id: user._id,\n        cart: filteredProducts\n      });\n      dispatch(action);\n    } else {\n      const thisProductInCart = user.cart.find(productInCart => {\n        return productInCart.product.id === product._id;\n      });\n      const newProduct = { ...thisProductInCart,\n        quantity: thisProductInCart.quantity - 1\n      };\n      const filteredProducts = user.cart.filter(productInCart => {\n        return productInCart.product.id !== product._id || productInCart.product.id === product._id && productInCart.chooseSize !== product.chooseSize;\n      });\n      const cloneProducts = user.cart; // cloneProducts.splice()\n\n      const action = updateUser({\n        _id: user._id,\n        cart: [...filteredProducts, newProduct]\n      });\n      dispatch(action);\n    }\n  };\n\n  const handleDeleteProduct = product => {\n    const filteredProducts = user.cart.filter(productInCart => {\n      return productInCart.product._id !== product.product._id || productInCart.chooseSize._id !== product.chooseSize._id && productInCart.product._id === product.product._id;\n    });\n    console.log(filteredProducts);\n    const action = updateUser({\n      _id: user._id,\n      cart: filteredProducts\n    });\n    dispatch(action);\n  };\n\n  const total = user === null || user === void 0 ? void 0 : (_user$cart = user.cart) === null || _user$cart === void 0 ? void 0 : _user$cart.reduce((sum, price) => {\n    return sum + price.product.price * price.quantity;\n  }, 0);\n\n  const onToken = token => {\n    console.log(token);\n    const action = payment({\n      tokenId: token.id,\n      amount: total * 100\n    });\n    dispatch(action).then(unwrapResult).then(res => {\n      const action = addOrder({\n        userId: user._id,\n        orderItems: user.cart,\n        paymentMethod: 'Card',\n        totalPrice: total,\n        address: token.card.name\n      });\n      dispatch(action);\n      const action2 = updateUser({\n        _id: user._id,\n        cart: []\n      });\n      dispatch(action2).then(unwrapResult).then(res => {\n        history.push('/order');\n      });\n    }).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Reno - Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Helmet application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(CustomerLayout, {\n      children: (user === null || user === void 0 ? void 0 : (_user$cart2 = user.cart) === null || _user$cart2 === void 0 ? void 0 : _user$cart2.length) > 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.list,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h3\",\n          className: classes.headingCart,\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          elevation: 0,\n          style: {\n            marginBottom: 25\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            \"aria-label\": \"simple table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  className: classes.tableHead,\n                  children: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  className: classes.tableHead,\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  className: classes.tableHead,\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  className: classes.tableHead,\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  className: classes.tableHead,\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  className: classes.tableHead,\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: user.cart.map(product => /*#__PURE__*/_jsxDEV(TableRow, {\n                className: classes.tableROw,\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  component: \"th\",\n                  scope: \"row\",\n                  className: classes.cellProduct,\n                  style: {\n                    justifyContent: 'flex-start'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: product.product.images[0].preview,\n                    alt: \"product\",\n                    className: classes.imgProduct\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    component: \"span\",\n                    children: product.product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: product.chooseSize.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: [\"$ \", product.product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    className: classes.quantity,\n                    children: [/*#__PURE__*/_jsxDEV(BiMinus, {\n                      onClick: () => handleDecreaseQuantity(product),\n                      style: {\n                        cursor: 'pointer'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 14\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      component: \"span\",\n                      children: product.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 14\n                    }, this), /*#__PURE__*/_jsxDEV(BiPlus, {\n                      onClick: () => handleIncreaseQuantity(product),\n                      style: {\n                        cursor: 'pointer'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 14\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: [\"\\xA3\", `${product.quantity * product.product.price}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(BiX, {\n                    onClick: () => handleDeleteProduct(product),\n                    style: {\n                      cursor: 'pointer',\n                      fontSize: 20\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 12\n                }, this)]\n              }, nanoid(), true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 11\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.proceed,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: \"/\",\n            className: classes.continue,\n            children: \"Continue shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.checkout,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"Total: $\", total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n              token: onToken,\n              stripeKey: KEY,\n              name: \"Reno shop\",\n              amount: total * 100 // cents\n              ,\n              currency: \"USD\",\n              email: user === null || user === void 0 ? void 0 : user.email,\n              shippingAddress: true,\n              billingAddress: true,\n              children: /*#__PURE__*/_jsxDEV(Button // component={Link}\n              // to=\"/\"\n              , {\n                className: classes.checkoutBtn,\n                children: \"Checkout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.notFound,\n        children: [/*#__PURE__*/_jsxDEV(Hidden, {\n          mdDown: true,\n          implementation: \"js\",\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.imgContainer,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: bgCart,\n              alt: \"not-found\",\n              className: classes.img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.content,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.heading,\n            component: \"h2\",\n            children: \"Wow Such an empty Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: \"/\",\n            className: classes.action,\n            children: [\"Go shop\", /*#__PURE__*/_jsxDEV(BiRightArrowAlt, {\n              className: classes.redirectIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"SrgFfLqALEb3/eEAhZz+5kH7SMU=\", false, function () {\n  return [useStyles, useSelector, useDispatch, useHistory];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/ali/Reno_shop_frontend/src/component/customer/Cart/Cart.js"],"names":["Box","Button","Hidden","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","unwrapResult","nanoid","React","useEffect","Helmet","BiMinus","BiPlus","BiRightArrowAlt","BiX","useDispatch","useSelector","Link","useHistory","StripeCheckout","payment","updateUser","addOrder","CustomerLayout","useStyles","KEY","process","env","REACT_APP_STRIPE_KEY","Cart","classes","user","state","auth","dispatch","history","window","scrollTo","handleIncreaseQuantity","product","thisProductInCart","cart","find","productInCart","id","_id","newProduct","quantity","filteredProducts","filter","chooseSize","action","handleDecreaseQuantity","cloneProducts","handleDeleteProduct","console","log","total","reduce","sum","price","onToken","token","tokenId","amount","then","res","userId","orderItems","paymentMethod","totalPrice","address","card","name","action2","push","catch","error","length","list","headingCart","marginBottom","table","tableHead","map","tableROw","cellProduct","justifyContent","images","preview","imgProduct","cursor","fontSize","proceed","continue","checkout","email","checkoutBtn","notFound","imgContainer","bgCart","img","content","heading","redirectIcon"],"mappings":"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","sourcesContent":["import {\n\tBox,\n\tButton,\n\tHidden,\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n\tTypography,\n} from '@material-ui/core'\nimport { unwrapResult } from '@reduxjs/toolkit'\nimport { nanoid } from 'nanoid'\nimport React, { useEffect } from 'react'\nimport { Helmet } from 'react-helmet-async'\nimport { BiMinus, BiPlus, BiRightArrowAlt, BiX } from 'react-icons/bi'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport StripeCheckout from 'react-stripe-checkout'\nimport bgCart from '../../../assets/images/cart.svg'\nimport { payment, updateUser } from '../../../redux/slices/authSlice'\nimport { addOrder } from '../../../redux/slices/orderSlice'\nimport CustomerLayout from '../CustomerLayout/CustomerLayout'\nimport { useStyles } from './styles'\n\nconst KEY = process.env.REACT_APP_STRIPE_KEY\n\nconst Cart = () => {\n\tconst classes = useStyles()\n\tconst user = useSelector((state) => state.auth.user)\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0)\n\t}, [])\n\n\tconst handleIncreaseQuantity = (product) => {\n\t\tconst thisProductInCart = user.cart.find((productInCart) => {\n\t\t\treturn productInCart.product.id === product._id\n\t\t})\n\t\tconst newProduct = {\n\t\t\t...thisProductInCart,\n\t\t\tquantity: thisProductInCart.quantity + 1,\n\t\t}\n\n\t\tconst filteredProducts = user.cart.filter((productInCart) => {\n\t\t\treturn (\n\t\t\t\tproductInCart.product.id !== product._id ||\n\t\t\t\t(productInCart.product.id === product._id &&\n\t\t\t\t\tproductInCart.chooseSize !== product.chooseSize)\n\t\t\t)\n\t\t})\n\n\t\tconst action = updateUser({\n\t\t\t_id: user._id,\n\t\t\tcart: [...filteredProducts, newProduct],\n\t\t})\n\t\tdispatch(action)\n\t}\n\n\tconst handleDecreaseQuantity = (product) => {\n\t\tif (product.quantity - 1 === 0) {\n\t\t\tconst filteredProducts = user.cart.filter((productInCart) => {\n\t\t\t\treturn (\n\t\t\t\t\tproductInCart.product.id !== product._id ||\n\t\t\t\t\t(productInCart.product.id === product._id &&\n\t\t\t\t\t\tproductInCart.chooseSize !== product.chooseSize)\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tconst action = updateUser({\n\t\t\t\t_id: user._id,\n\t\t\t\tcart: filteredProducts,\n\t\t\t})\n\t\t\tdispatch(action)\n\t\t} else {\n\t\t\tconst thisProductInCart = user.cart.find((productInCart) => {\n\t\t\t\treturn productInCart.product.id === product._id\n\t\t\t})\n\n\t\t\tconst newProduct = {\n\t\t\t\t...thisProductInCart,\n\t\t\t\tquantity: thisProductInCart.quantity - 1,\n\t\t\t}\n\n\t\t\tconst filteredProducts = user.cart.filter((productInCart) => {\n\t\t\t\treturn (\n\t\t\t\t\tproductInCart.product.id !== product._id ||\n\t\t\t\t\t(productInCart.product.id === product._id &&\n\t\t\t\t\t\tproductInCart.chooseSize !== product.chooseSize)\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tconst cloneProducts = user.cart\n\t\t\t// cloneProducts.splice()\n\n\t\t\tconst action = updateUser({\n\t\t\t\t_id: user._id,\n\t\t\t\tcart: [...filteredProducts, newProduct],\n\t\t\t})\n\t\t\tdispatch(action)\n\t\t}\n\t}\n\n\tconst handleDeleteProduct = (product) => {\n\t\tconst filteredProducts = user.cart.filter((productInCart) => {\n\t\t\treturn (\n\t\t\t\tproductInCart.product._id !== product.product._id ||\n\t\t\t\t(productInCart.chooseSize._id !== product.chooseSize._id &&\n\t\t\t\t\tproductInCart.product._id === product.product._id)\n\t\t\t)\n\t\t})\n\n\t\tconsole.log(filteredProducts)\n\n\t\tconst action = updateUser({\n\t\t\t_id: user._id,\n\t\t\tcart: filteredProducts,\n\t\t})\n\t\tdispatch(action)\n\t}\n\n\tconst total = user?.cart?.reduce((sum, price) => {\n\t\treturn sum + price.product.price * price.quantity\n\t}, 0)\n\n\tconst onToken = (token) => {\n\t\tconsole.log(token)\n\t\tconst action = payment({\n\t\t\ttokenId: token.id,\n\t\t\tamount: total * 100,\n\t\t})\n\t\tdispatch(action)\n\t\t\t.then(unwrapResult)\n\t\t\t.then((res) => {\n\t\t\t\tconst action = addOrder({\n\t\t\t\t\tuserId: user._id,\n\t\t\t\t\torderItems: user.cart,\n\t\t\t\t\tpaymentMethod: 'Card',\n\t\t\t\t\ttotalPrice: total,\n\t\t\t\t\taddress: token.card.name,\n\t\t\t\t})\n\t\t\t\tdispatch(action)\n\t\t\t\tconst action2 = updateUser({\n\t\t\t\t\t_id: user._id,\n\t\t\t\t\tcart: [],\n\t\t\t\t})\n\t\t\t\tdispatch(action2)\n\t\t\t\t\t.then(unwrapResult)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\thistory.push('/order')\n\t\t\t\t\t})\n\t\t\t})\n\t\t\t.catch((error) => console.log(error))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Helmet>\n\t\t\t\t<title>Reno - Cart</title>\n\t\t\t\t<meta name=\"description\" content=\"Helmet application\" />\n\t\t\t</Helmet>\n\t\t\t<CustomerLayout>\n\t\t\t\t{user?.cart?.length > 0 ? (\n\t\t\t\t\t<Box className={classes.list}>\n\t\t\t\t\t\t<Typography component=\"h3\" className={classes.headingCart}>\n\t\t\t\t\t\t\tShopping Cart\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TableContainer\n\t\t\t\t\t\t\tcomponent={Paper}\n\t\t\t\t\t\t\televation={0}\n\t\t\t\t\t\t\tstyle={{ marginBottom: 25 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHead}>Product</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\tSize\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\tQuantity\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableHead}>\n\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t{user.cart.map((product) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={nanoid()} className={classes.tableROw}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.cellProduct}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ justifyContent: 'flex-start' }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={product.product.images[0].preview}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"product\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgProduct}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{product.product.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{product.chooseSize.name}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t$ {product.product.price}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<BiMinus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDecreaseQuantity(product)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<BiPlus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleIncreaseQuantity(product)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t£{`${product.quantity * product.product.price}`}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<BiX\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteProduct(product)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontSize: 20 }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t<Box className={classes.proceed}>\n\t\t\t\t\t\t\t<Button component={Link} to=\"/\" className={classes.continue}>\n\t\t\t\t\t\t\t\tContinue shopping\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Box className={classes.checkout}>\n\t\t\t\t\t\t\t\t<Typography>Total: ${total}</Typography>\n\n\t\t\t\t\t\t\t\t<StripeCheckout\n\t\t\t\t\t\t\t\t\ttoken={onToken}\n\t\t\t\t\t\t\t\t\tstripeKey={KEY}\n\t\t\t\t\t\t\t\t\tname=\"Reno shop\"\n\t\t\t\t\t\t\t\t\tamount={total * 100} // cents\n\t\t\t\t\t\t\t\t\tcurrency=\"USD\"\n\t\t\t\t\t\t\t\t\temail={user?.email}\n\t\t\t\t\t\t\t\t\tshippingAddress\n\t\t\t\t\t\t\t\t\tbillingAddress\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t// component={Link}\n\t\t\t\t\t\t\t\t\t\t// to=\"/\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.checkoutBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCheckout\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</StripeCheckout>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Box className={classes.notFound}>\n\t\t\t\t\t\t<Hidden mdDown implementation=\"js\">\n\t\t\t\t\t\t\t<Box className={classes.imgContainer}>\n\t\t\t\t\t\t\t\t<img src={bgCart} alt=\"not-found\" className={classes.img} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t<Box className={classes.content}>\n\t\t\t\t\t\t\t<Typography className={classes.heading} component=\"h2\">\n\t\t\t\t\t\t\t\tWow Such an empty Cart\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button component={Link} to=\"/\" className={classes.action}>\n\t\t\t\t\t\t\t\tGo shop\n\t\t\t\t\t\t\t\t<BiRightArrowAlt className={classes.redirectIcon} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</CustomerLayout>\n\t\t</>\n\t)\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}