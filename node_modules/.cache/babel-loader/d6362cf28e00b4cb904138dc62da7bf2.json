{"ast":null,"code":"var _jsxFileName = \"/home/ali/Reno_shop_frontend/src/component/LoginForm/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Hidden, InputAdornment, TextField, Typography } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useStyles } from './styles';\nimport bgLogin from '../../assets/images/login1.png';\nimport bgLogin2 from '../../assets/images/login-2.png';\nimport { BiMailSend, BiLockAlt, BiRightArrowAlt } from 'react-icons/bi';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as yup from 'yup';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { login } from '../../redux/slices/authSlice';\nimport { useDispatch } from 'react-redux';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  email: yup.string().required().email(),\n  password: yup.string().required()\n});\n\nconst LoginForm = () => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  const [error, setError] = useState('');\n\n  const handleLogin = data => {\n    const action = login({ ...data,\n      isAdmin: true\n    });\n    dispatch(action).then(unwrapResult).then(res => {\n      localStorage.setItem('token', res.token);\n      if (res.user.isAdmin) history.push('/admin/home');else history.push('/');\n    }).catch(error => {\n      if (error.status === 400) setError(error.data.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.login,\n    children: [/*#__PURE__*/_jsxDEV(Hidden, {\n      mdDown: true,\n      implementation: \"js\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bgLogin2,\n        alt: \"login\",\n        className: classes.img1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(Hidden, {\n        mdDown: true,\n        implementation: \"js\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.img2Container,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: bgLogin,\n            alt: \"login1\",\n            className: classes.img2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleSubmit(handleLogin),\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h2\",\n          className: classes.heading,\n          children: \"Member login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), error !== '' && /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"p\",\n          className: classes.error,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.input,\n          placeholder: \"Email\",\n          type: \"email\",\n          ...register('email'),\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(BiMailSend, {\n                className: classes.inputIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }, this),\n            classes: {\n              input: classes.input\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.input,\n          placeholder: \"Password\",\n          type: \"password\",\n          ...register('password'),\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(BiLockAlt, {\n                className: classes.inputIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 9\n            }, this),\n            classes: {\n              input: classes.input\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.action,\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgot-password\",\n          className: classes.redirect,\n          children: \"Forgot Password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: classes.redirect,\n          children: [\"Create your Account\", /*#__PURE__*/_jsxDEV(BiRightArrowAlt, {\n            className: classes.redirectIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 3\n  }, this);\n};\n\n_s(LoginForm, \"VRuj0ofeqhcu02RnxxTNxZzs55c=\", false, function () {\n  return [useStyles, useDispatch, useHistory, useForm];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/ali/Reno_shop_frontend/src/component/LoginForm/LoginForm.js"],"names":["Box","Button","Hidden","InputAdornment","TextField","Typography","React","useState","useStyles","bgLogin","bgLogin2","BiMailSend","BiLockAlt","BiRightArrowAlt","Link","useHistory","yup","useForm","yupResolver","login","useDispatch","unwrapResult","schema","object","shape","email","string","required","password","LoginForm","classes","dispatch","history","register","handleSubmit","resolver","error","setError","handleLogin","data","action","isAdmin","then","res","localStorage","setItem","token","user","push","catch","status","message","img1","container","img2Container","img2","form","heading","input","startAdornment","inputIcon","redirect","redirectIcon"],"mappings":"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","sourcesContent":["import {\n\tBox,\n\tButton,\n\tHidden,\n\tInputAdornment,\n\tTextField,\n\tTypography,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useStyles } from './styles'\nimport bgLogin from '../../assets/images/login1.png'\nimport bgLogin2 from '../../assets/images/login-2.png'\nimport { BiMailSend, BiLockAlt, BiRightArrowAlt } from 'react-icons/bi'\nimport { Link, useHistory } from 'react-router-dom'\nimport * as yup from 'yup'\nimport { useForm } from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { login } from '../../redux/slices/authSlice'\nimport { useDispatch } from 'react-redux'\nimport { unwrapResult } from '@reduxjs/toolkit'\n\nconst schema = yup.object().shape({\n\temail: yup.string().required().email(),\n\tpassword: yup.string().required(),\n})\n\nconst LoginForm = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\tconst { register, handleSubmit } = useForm({\n\t\tresolver: yupResolver(schema),\n\t})\n\tconst [error, setError] = useState('')\n\n\tconst handleLogin = (data) => {\n\t\tconst action = login({...data, isAdmin:true})\n\t\tdispatch(action)\n\t\t\t.then(unwrapResult)\n\t\t\t.then((res) => {\n\t\t\t\tlocalStorage.setItem('token', res.token)\n\t\t\t\tif (res.user.isAdmin) history.push('/admin/home')\n\t\t\t\telse history.push('/')\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.status === 400) setError(error.data.message)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<Box className={classes.login}>\n\t\t\t<Hidden mdDown implementation=\"js\">\n\t\t\t\t<img src={bgLogin2} alt=\"login\" className={classes.img1} />\n\t\t\t</Hidden>\n\t\t\t<Box className={classes.container}>\n\t\t\t\t<Hidden mdDown implementation=\"js\">\n\t\t\t\t\t<Box className={classes.img2Container}>\n\t\t\t\t\t\t<img src={bgLogin} alt=\"login1\" className={classes.img2} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Hidden>\n\t\t\t\t<form className={classes.form} onSubmit={handleSubmit(handleLogin)}>\n\t\t\t\t\t<Typography component=\"h2\" className={classes.heading}>\n\t\t\t\t\t\tMember login\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{error !== '' && (\n\t\t\t\t\t\t<Typography component=\"p\" className={classes.error}>\n\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t{...register('email')}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t<BiMailSend className={classes.inputIcon} />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t{...register('password')}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t<BiLockAlt className={classes.inputIcon} />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button className={classes.action} type=\"submit\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Link to=\"/forgot-password\" className={classes.redirect}>\n\t\t\t\t\t\tForgot Password?\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/register\" className={classes.redirect}>\n\t\t\t\t\t\tCreate your Account\n\t\t\t\t\t\t<BiRightArrowAlt className={classes.redirectIcon} />\n\t\t\t\t\t</Link>\n\t\t\t\t</form>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default LoginForm\n"]},"metadata":{},"sourceType":"module"}